<!DOCTYPE html>
<html>
<head>
  <title>Realistic Car Marker — Vantage Lane v4</title>
  <style>
    * { box-sizing: border-box; }
    body { background: #1e293b; display: flex; flex-wrap: wrap; gap: 30px; justify-content: center; align-items: flex-start; min-height: 100vh; margin: 0; font-family: system-ui, -apple-system, sans-serif; padding: 40px 20px; }
    .car-container { display: flex; flex-direction: column; align-items: center; gap: 4px; }
    .driver-name { font-size: 11px; background: rgba(0,0,0,0.7); color: white; border-radius: 6px; padding: 2px 8px; font-weight: 600; white-space: nowrap; }
    .plate { font-size: 10px; background: white; color: black; border-radius: 4px; padding: 1px 5px; font-weight: 700; }
    .status-label { font-size: 10px; color: #94a3b8; margin-top: 6px; }
    h1 { color: white; width: 100%; text-align: center; margin: 0 0 5px; font-size: 22px; }
    h2 { color: #94a3b8; width: 100%; text-align: center; font-weight: 400; font-size: 14px; margin: 24px 0 10px; }
    .section { width: 100%; display: flex; flex-wrap: wrap; gap: 50px; justify-content: center; padding: 24px 0; border-top: 1px solid rgba(255,255,255,0.06); }
    .badge { display: inline-block; padding: 3px 10px; border-radius: 20px; font-size: 10px; font-weight: 700; color: white; letter-spacing: 0.5px; margin-top: 4px; }
    .on-map { background: #263238; border-radius: 12px; padding: 30px 40px; display: flex; gap: 50px; justify-content: center; flex-wrap: wrap; }
  </style>
</head>
<body>

<h1>Vantage Lane — Realistic Car Marker v4</h1>
<h2>Side windows + bigger status dot + hood reflection + chrome beltline + EN_ROUTE = blue</h2>

<div class="section"><div class="on-map" id="statuses"></div></div>
<h2>Rotations — 0° / 45° / 90° / 135° / 180° / 270°</h2>
<div class="section"><div class="on-map" id="rotations"></div></div>
<h2>Vehicle Type Scales — exec / lux / suv / van</h2>
<div class="section"><div class="on-map" id="scales" style="align-items:flex-end;"></div></div>

<script>
let uid = 0;
function carSVG(color, size, rotation, isOffline) {
  const id = uid++;
  const opacity = isOffline ? 0.55 : 1;
  const bodyStops = isOffline
    ? `<stop offset="0%" stop-color="#c0c0c0"/><stop offset="50%" stop-color="#d5d5d5"/><stop offset="100%" stop-color="#aaa"/>`
    : `<stop offset="0%" stop-color="#e8e8e8"/><stop offset="50%" stop-color="#f5f5f5"/><stop offset="100%" stop-color="#d4d4d4"/>`;
  const glassStops = isOffline
    ? `<stop offset="0%" stop-color="#3a3a3a"/><stop offset="100%" stop-color="#555"/>`
    : `<stop offset="0%" stop-color="#1a3a4a"/><stop offset="100%" stop-color="#2d5a6a"/>`;
  const roofStops = isOffline
    ? `<stop offset="0%" stop-color="#b0b0b0"/><stop offset="50%" stop-color="#ccc"/><stop offset="100%" stop-color="#b0b0b0"/>`
    : `<stop offset="0%" stop-color="#d0d0d0"/><stop offset="50%" stop-color="#f0f0f0"/><stop offset="100%" stop-color="#d0d0d0"/>`;
  const tailColor = isOffline ? '#888' : '#ef4444';
  const tailOp = isOffline ? 0.5 : 0.9;
  const mirrorFill = isOffline ? '#bbb' : '#d8d8d8';
  const mirrorStroke = isOffline ? '#999' : '#aaa';
  const bodyStroke = isOffline ? '#999' : '#b0b0b0';
  const glassStroke = isOffline ? '#777' : '#8ab4c4';
  const rot = rotation ? `style="transform:rotate(${rotation}deg);transition:transform 2s linear;"` : '';

  return `<svg width="${size}" height="${size}" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" ${rot}>
    <defs>
      <filter id="sh${id}" x="-25%" y="-15%" width="150%" height="140%"><feDropShadow dx="0" dy="3" stdDeviation="3.5" flood-color="rgba(0,0,0,0.45)"/></filter>
      <filter id="gw${id}" x="-50%" y="-50%" width="200%" height="200%"><feGaussianBlur stdDeviation="2" result="b"/><feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge></filter>
      <linearGradient id="bd${id}" x1="0" y1="0" x2="1" y2="1">${bodyStops}</linearGradient>
      <linearGradient id="gl${id}" x1="0" y1="0" x2="0" y2="1">${glassStops}</linearGradient>
      <linearGradient id="rf${id}" x1="0" y1="0" x2="1" y2="0">${roofStops}</linearGradient>
      <linearGradient id="hd${id}" x1="0" y1="0" x2="0" y2="1"><stop offset="0%" stop-color="rgba(255,255,255,0.3)"/><stop offset="100%" stop-color="rgba(255,255,255,0)"/></linearGradient>
    </defs>
    <g filter="url(#sh${id})" opacity="${opacity}">
      <path d="M35 18 Q35 10 42 8 L50 5 L58 8 Q65 10 65 18 L67 75 Q67 88 58 90 L50 92 L42 90 Q33 88 33 75 Z" fill="url(#bd${id})" stroke="${bodyStroke}" stroke-width="0.8"/>
      <path d="M35 20 Q33 22 33 30 L33 70 Q33 78 35 80" fill="none" stroke="#c8c8c8" stroke-width="0.5"/>
      <path d="M65 20 Q67 22 67 30 L67 70 Q67 78 65 80" fill="none" stroke="#c8c8c8" stroke-width="0.5"/>
      <path d="M40 8 L50 6 L60 8 L60 12 L40 12 Z" fill="url(#hd${id})"/>
      <path d="M38 20 Q38 16 42 14 L50 12 L58 14 Q62 16 62 20 L62 30 Q62 32 60 32 L40 32 Q38 32 38 30 Z" fill="url(#gl${id})" stroke="${glassStroke}" stroke-width="0.6" opacity="0.9"/>
      <path d="M42 16 L46 14.5 L46 28 L42 28 Z" fill="rgba(255,255,255,0.15)"/>
      <path d="M36 30 L36 60" fill="none" stroke="#ccc" stroke-width="0.7"/>
      <path d="M64 30 L64 60" fill="none" stroke="#ccc" stroke-width="0.7"/>
      <path d="M36 31 L38 31 L38 44 L36 44 Z" fill="url(#gl${id})" opacity="0.8" stroke="${glassStroke}" stroke-width="0.3"/>
      <path d="M36 46 L38 46 L38 59 L36 59 Z" fill="url(#gl${id})" opacity="0.75" stroke="${glassStroke}" stroke-width="0.3"/>
      <path d="M62 31 L64 31 L64 44 L62 44 Z" fill="url(#gl${id})" opacity="0.8" stroke="${glassStroke}" stroke-width="0.3"/>
      <path d="M62 46 L64 46 L64 59 L62 59 Z" fill="url(#gl${id})" opacity="0.75" stroke="${glassStroke}" stroke-width="0.3"/>
      <line x1="38" y1="31" x2="39" y2="34" stroke="#bbb" stroke-width="0.4"/>
      <line x1="62" y1="31" x2="61" y2="34" stroke="#bbb" stroke-width="0.4"/>
      <line x1="38" y1="59" x2="39" y2="56" stroke="#bbb" stroke-width="0.4"/>
      <line x1="62" y1="59" x2="61" y2="56" stroke="#bbb" stroke-width="0.4"/>
      <rect x="39" y="34" width="22" height="22" rx="4" fill="url(#rf${id})"/>
      <rect x="46" y="36" width="8" height="18" rx="3" fill="rgba(255,255,255,0.25)"/>
      <path d="M39 60 Q39 58 41 58 L59 58 Q61 58 61 60 L61 72 Q61 76 58 78 L50 80 L42 78 Q39 76 39 72 Z" fill="url(#gl${id})" stroke="${glassStroke}" stroke-width="0.5" opacity="0.85"/>
      <ellipse cx="30" cy="24" rx="3.5" ry="2" fill="${mirrorFill}" stroke="${mirrorStroke}" stroke-width="0.5"/>
      <ellipse cx="70" cy="24" rx="3.5" ry="2" fill="${mirrorFill}" stroke="${mirrorStroke}" stroke-width="0.5"/>
      <rect x="35" y="84" width="8" height="3" rx="1.5" fill="${tailColor}" opacity="${tailOp}"/>
      <rect x="57" y="84" width="8" height="3" rx="1.5" fill="${tailColor}" opacity="${tailOp}"/>
      <rect x="37" y="10" width="6" height="2.5" rx="1" fill="rgba(255,255,255,0.7)"/>
      <rect x="57" y="10" width="6" height="2.5" rx="1" fill="rgba(255,255,255,0.7)"/>
      <circle cx="50" cy="96" r="6" fill="${color}" opacity="0.85" filter="url(#gw${id})"/>
      <circle cx="50" cy="96" r="3.5" fill="white" opacity="0.45"/>
    </g>
  </svg>`;
}

// SECTION 1: All statuses
const statuses = [
  { name: 'John D.', plate: 'AB 123 CD', color: '#22C55E', label: 'ONLINE', badgeBg: '#22C55E' },
  { name: 'Maria S.', plate: 'BV 456 FG', color: '#3B82F6', label: 'EN ROUTE', badgeBg: '#3B82F6' },
  { name: 'Alex P.', plate: 'CJ 789 IJ', color: '#7C3AED', label: 'ARRIVED', badgeBg: '#7C3AED' },
  { name: 'Dan M.', plate: 'TM 012 LM', color: '#D4AF37', label: 'IN PROGRESS', badgeBg: '#D4AF37', dark: true },
  { name: 'Offline D.', plate: 'IS 345 OP', color: '#9CA3AF', label: 'OFFLINE', badgeBg: '#9CA3AF', dark: true, offline: true },
];
const statusesEl = document.getElementById('statuses');
statuses.forEach(s => {
  const div = document.createElement('div');
  div.className = 'car-container';
  div.innerHTML = `
    <div class="driver-name">${s.name}</div>
    ${carSVG(s.color, 48, 0, s.offline)}
    <div class="plate">${s.plate}</div>
    <div class="badge" style="background:${s.badgeBg};${s.dark ? 'color:#1a1a1a;' : ''}">${s.label}</div>
  `;
  statusesEl.appendChild(div);
});

// SECTION 2: Rotations
const rotations = [
  { deg: 0, label: '0° N', color: '#22C55E' },
  { deg: 45, label: '45° NE', color: '#3B82F6' },
  { deg: 90, label: '90° E', color: '#7C3AED' },
  { deg: 135, label: '135° SE', color: '#D4AF37' },
  { deg: 180, label: '180° S', color: '#22C55E' },
  { deg: 270, label: '270° W', color: '#9CA3AF' },
];
const rotEl = document.getElementById('rotations');
rotations.forEach(r => {
  const div = document.createElement('div');
  div.className = 'car-container';
  div.innerHTML = `${carSVG(r.color, 48, r.deg, false)}<div class="status-label">${r.label}</div>`;
  rotEl.appendChild(div);
});

// SECTION 3: Scales
const scales = [
  { type: 'EXEC', scale: 1, size: 48 },
  { type: 'LUX', scale: 1.1, size: 53 },
  { type: 'SUV', scale: 1.25, size: 60 },
  { type: 'VAN', scale: 1.45, size: 70 },
];
const scaleEl = document.getElementById('scales');
scales.forEach(s => {
  const div = document.createElement('div');
  div.className = 'car-container';
  div.innerHTML = `${carSVG('#22C55E', s.size, 0, false)}<div class="status-label">${s.type} ${s.scale}x (${s.size}px)</div>`;
  scaleEl.appendChild(div);
});
</script>

</body>
</html>
